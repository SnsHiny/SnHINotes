# VMware虚拟机安装

### 1.1  安装地址

https://www.vmware.com/cn.html

### 1.2  VMware各版本安装密钥

```
VMware Workstation Pro 15 激活许可证
UY758-0RXEQ-M81WP-8ZM7Z-Y3HDA 
VF750-4MX5Q-488DQ-9WZE9-ZY2D6
UU54R-FVD91-488PP-7NNGC-ZFAX6
YC74H-FGF92-081VZ-R5QNG-P6RY4
YC34H-6WWDK-085MQ-JYPNX-NZRA2 

VMware Workstation Pro 14 激活许可证
FF31K-AHZD1-H8ETZ-8WWEZ-WUUVA
CV7T2-6WY5Q-48EWP-ZXY7X-QGUWD

VMware Workstation Pro 12 激活许可证
5A02H-AU243-TZJ49-GTC7K-3C61N
VF5XA-FNDDJ-085GZ-4NXZ9-N20E6 
UC5MR-8NE16-H81WY-R7QGV-QG2D8
ZG1WH-ATY96-H80QP-X7PEX-Y30V4 
AA3E0-0VDE1-0893Z-KGZ59-QGAVF

VMware Workstation Pro 10 激活许可证
1Z0G9-67285-FZG78-ZL3Q2-234JG
4C4EK-89KDL-5ZFP9-1LA5P-2A0J0
HY086-4T01N-CZ3U0-CV0QM-13DNU
```

### 1.3  虚拟机设置——网络适配器

![](C:\Users\67090\Desktop\Typora\Linux\三种网络连接.png)

- 桥接模式：Linux可以和其他的系统通信，但是每个虚拟机相对于本机系统都有一个不同的IP地址，可能造成IP冲突。
- NAT模式：网络地址转换方式，虚拟机IP地址与本机系统生成的一个新的IP地址在同一个网关下，不会造成IP冲突，并且虚拟机可以访问到外网。
- 仅主机模式：虚拟机是一个独立的主机，不能访问到外网

# CentOS  下载

- 阿里云站点：http://mirrors.aliyun.com/centos/7/isos/x86_64/


# Linux目录结构

- /bin：是Binary的缩写，这个目录存放着最经常使用的命令
- /sbin：s就是super user的意思，这里存放的是系统管理员使用的系统管理程序
- /home：存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一般该目录名是用用户的账号命名的
- /root：该目录为系统管理员，也成为超级权限者的用户主目录
- /lib：系统开机所需要最基本的动态连接共享库，其作用类似于Windows里的DLL文件，几乎所有的应用程序都需要用到这些共享库
- /lost+found：这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件
- /etc：所有的系统管理所需要的配置文件和子目录
- /user：这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于Windows下的program files目录
- /boot：存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件
- /proc：这个目录是一个虚拟的目录，它是系统内存的映射，访问这个目录来获取系统信息
- /srv：service的缩写，该目录存放一些服务启动之后需要提取的数据
- /sys：这是Linux2.6内核的一个很大的变化，该目录下安装了2.6内核中新出现的一个文件系统
- /tmp：这个目录是用来存放一些临时文件的
- /dev：类似于Windows的设备管理器，把所有的硬件用文件的形式存储
- /media：Linux系统会自动识别一些设备，例如U盘、光驱等等，当时别后，Linux会把识别的设备挂载到这个目录下
- /mnt:系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储盖在在/mnt/上，然后进入该目录就可以查看里面的内容了
- /opt：这是给主机额外安装软件所摆放的目录，如安装ORACLE数据库就可以放到该目录下，默认为空
- /user/local：这是另一个给主机额外安装软件所安装的目录，一般是通过编译源码方式安装的程序
- /var：这个目录中存放着在不断扩充着的东西，习惯将经常被修改的目录放下这个目录下，包括各种日志文件
- /selinux[security-enhanced Linux]：SELinux是一种安全子系统，它能控制程序只能访问特定文件

# 安装XShell

- Xshell是一个强大的安全终端模拟软件，它支持SSH1,SSH2, 以及Microsoft Windows 平台的TELNET 协议，Xshell可以在Windows界面下用来访问远端不同系统下的服务器，从而比较好的达到远程控制终端的目的。
- 下载地址：https://www.netsarang.com/zh/free-for-home-school/

# 安装Xftp

- Xftp是一个功能强大的[SFTP](https://baike.baidu.com/item/SFTP)、[FTP](https://baike.baidu.com/item/FTP) 文件传输软件。使用了 Xftp 以后，MS Windows 用户能安全地在 [UNIX](https://baike.baidu.com/item/UNIX)/[Linux](https://baike.baidu.com/item/Linux) 和 Windows PC 之间传输文件。
- 下载地址：https://www.netsarang.com/zh/free-for-home-school/

# vi和vim编辑器

### 2.1  介绍

- 所有的Linux系统都会内建vi文本编辑器

- vim具有程序编辑的能力，可以看做是vi的增强版本，可以主动的以字体颜色辨别语法的正确性，方便程序设计。代码补充、编译及错误跳转等方便编程的功能特别丰富。

### 2.2  vi和vim的三种常见模式

- 正常模式
	- 以vim打开一个档案就直接进入一般模式了（这是默认的模式），在这个模式中，你可以使用上下左右按键来移动光标，你可以使用删除字符或删除整行来处理档案内容，也可以使用复制粘贴来处理你的文件数据
- 插入模式
	- 按下i、I、o、O、a、A、r、R等任何一个字母后才会进入编辑模式，一般来说按i即可
- 命令行模式
	- 在这个模式当中，可以提供你相关指令，完成读取、存盘、替换、离开vim、显示行号等的动作。

### 2.3  vi/vim快捷键

- 拷贝：yy
- 拷贝光标以下n行：n  yy
- 粘贴：p
- 删除当前行：dd
- 删除光标以下n行：n  dd
- 显示行号：:set nu
- 取消行号：:set nonu
- 光标移到末行：G
- 光标移到首行：gg
- 撤回：u
- 将光标移到n行：
	- 1.显示行号：:set nu
	- 2.输入n+shift+g
- 查找：/+要查找的内容
- 替换：:%s/被替换的内容/替换的内容/g
- 其他快捷键：https://www.cnblogs.com/drl-blogs/p/10797941.html

# 开机、关机以及用户管理命令

### 3.1  关机&重启命令

- shutdown
	- shutdown  -h  now：表示立即关机
	- shutdown  -h  1：表示1分钟以后关机
	- shutdown  -r  now：表示立即重启
- halt：立即关机
- reboot：重启系统
- sync：把内存的数据同步到磁盘（关机或重启时都应执行该命令，防止数据丢失）

### 3.2 用户的登录和注销

- 注销：logout（只在远程操作下有效，运行级别3）
- 登录/切换用户：su  用户名

### 3.3  用户的添加

- Linux系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统
- 添加用户：useradd  用户名
- 添加用户到指定组：useradd -g  用户组  用户名
- 当创建用户成功后，会自动的创建和用户同名的家目录
- 也可以通过useradd -d  指定目录  新的用户名，给新创建的用户指定家目录

### 3.4  给用户指定或修改密码

- 指定/修改密码：passwd  用户名

### 3.5  删除用户

- 删除用户但保留家目录：userdel  用户名
- 删除用户并删除家目录：userdel  -r  用户名
- 实际开发中一般不删除家目录

### 3.6  查询用户

- 查询：id  用户名
- 查询得到：uid（用户id号）、gid（用户所在组的id号）、组（用户所在组）
- 当用户不存在时，返回无此用户

### 3.7  查看当前用户

- 查看当前用户：whoami / who am i

### 3.8  添加用户组

- 添加：groupadd  组名

### 3.9  删除用户组

- 删除：groupdel  组名

### 3.10  修改用户组

- 修改：usermod -g  用户组  用户名

### 3.11  用户相关配置文件

- /etc/passwd 文件
	- 用户的配置文件，记录用户的各种信息
	- 信息含义：用户名、密码、用户标识符、组标识符、注释性描述、主目录、登录Shell
- /etc/shadow 文件
	- 口令/密码的配置文件
	- 信息含义：登录名、加密口令、最后一次修改时间、最小时间间隔、最大时间间隔、警告时间、不活动时间、实效时间、标志
- /etc/group 文件
	- 组的配置文件，记录Linux包含的组的信息
	- 信息含义：组名、密码、组标识号、组内用户列表

# 实用指令

### 4.1  指定运行级别指定

#### 4.1.1  各运行级别

- 0：关机
- 1：单用户【找回丢失密码】
- 2：多用户状态没有网络服务
- 3：多用户状态有网络服务
- 4：（保留）
- 5：图形界面
- 6：系统重启
- 常用运行级别是3和5，要修改默认的运行级别可改文件/etc/inittab中的id:5:initdefault:这一行中的数字

#### 4.1.2  更改运行级别指令

- 指令：init [012356]

#### 4.1.3  面试题

- 如何找回root密码？
	- 思路：进入到单用户模式，然后修改root密码，因为进入单用户模式不需要密码就可以登录
	- 具体步骤：开机—>在引导时输入回车键—>按e键—>选中第二行（编辑内核）按e键—>输入1并回车—>再次输入b进入单用户模式—>使用passwd指令来修改root密码—>reboot重启

### 4.2  帮助指令

- man 指令
	- 获得帮助信息
	- 语法：man  命令或配置文件
- help指令
	- 获得shell内置命令的帮助信息
	- 语法：help  命令

### 4.3  文件目录指令

- pwd指令
	- 基本语法：pwd
	- 显示当前工作目录的绝对路径
- ls指令
	- 基本语法：ls  [选项]  [目录或文件]
	- 常用选项：
		- -a：显示当前目录所有的文件和目录，包括隐藏的
		- -l：以列表的方式显示信息
- cd指令
	- 基本语法：cd  [绝对路径或相对路径]
	- 切换到指定目录
	- cd~ / cd：回到自己的家目录
	- cd.. ：回到当前目录的上一级目录
- mkdir指令
	- 基本语法：mkdir  [选项]  要创建的目录
	- 用于创建目录（make directory）
	- 常用选项
		- -p：创建多级目录
- rmdir指令
	- 基本语法：rmdir  [选项]  要删除的空目录
	- rmdir删除的是空目录，如果目录下有内容时无法删除
	- 如果需要删除非空目录，需要使用rm  -rf 要删除的目录
- touch指令
	- 基本语法：touch  文件名称
	- 创建空文件
	- 可以一次性创建多个文件
- cp指令
	- 基本语法：cp  [选项]  source  dest
	- 拷贝文件到指定目录，source：要拷贝的源文件，dest：要拷贝到的目录
	- 常用选项
		- -r：递归复制整个文件夹
	- 强制覆盖原有文件：\cp  [选项]  source  dest
- rm指令
	- 基本语法：rm  [选项]  要删除的文件或目录
	- 移除文件或目录
	- 常用选项：
		- -rf：递归删除整个文件
		- -f：强制删除不提示
- mv指令
	- 基本语法：mv  移动文件与目录或重命名
	- 重命名：mv  oldNameFile  newNameFile
	- 移动文件：mv  /temp/movefile  /targetFolder
- cat指令
	- 基本语法：cat  [选项]  要查看的文件
	- 常用选项：
		- -n：显示行号
	- cat只能浏览文件，而不能修改文件，为了浏览方便，一般会带上管道命令 | more，以分页显示
- more指令
	- 基本语法：more  要查看的文件
	- more指令是一个基于vi编辑器的文本过滤器，它以全屏幕的方式按页显示文本文件的内容
	- more指令中内置了若干快捷键：
		- space：向下翻一页
		- Enter：向下翻一行
		- q：立刻离开more，不再显示该文件内容
		- Ctrl+F：向下滚动一屏
		- Ctrl+B：返回上一屏
		- =：输出当前行的行号
		- :f：输出文件名和当前行的行号
- less指令
	- 基本语法：less  要查看的文件
	- less指令用来分屏查看文件内容，它的功能与more指令类似，但是比more指令更加强大，支持各种显示终端，less指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载的内容，对于显示大型文件具有较高的效率
	- 快捷键
		- space：向下翻动一页
		- Enter：向下翻一行
		- [pagedown]：向下翻动一页
		- [pageup]：向上翻动一页
		- /字串：向下搜寻字串，n：向下查找，N：向上查找
		- ?字串：向上搜寻字串，n：向上查找，N：向下查找
		- q：离开less这个程序
- 【>】输出重定向指令和【>>】追加指令
	- 基本语法：
		- ls  -l  >  文件：列表的内容写入文件中（覆盖写）
		- ls  -al  >> 文件：列表的内容追加到文件的末尾
		- cat  文件1  >  文件2：将文件1的内容覆盖到文件2
		- echo  “内容”  >>  文件：将内容追加到文件的末尾
- echo指令
	- 基本语法：echo  [选项]  [输出内容]
	- 输出内容到控制台
	- echo  $PATH：输出环境变量路径
- head指令
	- 基本语法：
		- head  文件：查看文件头10行内容
		- head  -n  m  文件：查看文件头m行内容
	- 用于显示文件的开头部分内容，默认情况下显示文件的前10行
- tail指令
	- 基本语法：
		- tail  文件：查看文件后10行内容
		- tail  -n  m  文件：查看文件后m行内容
		- tail  -f  文件：实时追踪该文档的所有更新，经常使用
- ln指令
	- 基本语法：ln  -s  [原文件或目录]  [软链接名]
	- 给原文件创建一个软链接
	- 软链接也叫符号链接，类似于windows里的快捷方式，主要存放了链接其他文件的路径
	- 当我们用pwd查看目录时，仍然看到的是软链接下的目录
- history指令
	- 基本语法：history
	- 查看已经执行过的历史命令，也可以执行历史命令
	- !n：执行编号为n的指令

### 4.4  时间日期指令

- date指令
	- 基本语法：
		- date：显示当前时间
		- date  +%Y：显示当前年份
		- date  +%m：显示当前月份
		- date  +%d：显示当前是哪一天
		- date  "+%Y年%m月%d日 %H:%M:%S"：格式化显示年月日时分秒
		- date  -s  字符串日期：设置日期
- cal指令
	- 基本语法：cal  [年份]
	- 不加年份，显示本月日历
	- 加年份，显示当年所有日历

### 4.5   搜索查找指令

- find指令
	- 基本语法：find  [搜索范围]  [选项]
	- find指令将从指定目录向下递归地遍历其各个子目录，将满足条件的文件或目录显示在终端
	- 常用选项：
		- -name  文件名：按照指定的文件名查找文件
		- -user  用户名：查找属于指定用户名所有文件
		- -size  文件大小（+n大于、-n小于、n等于）：按照指定的文件大小查找文件
	- 可用通配符
- locate指令
	- 基本语法：locate  搜索文件
	- locate指令可以快速定位文件路径，其利用事先建立的系统中所有文件名称及路径的locate数据库实现快速定位给定的文件，locate指令无需遍历整个文件系统，查询速度较快。为了保证查询结果的准确度，管理员必须顶起更新locate时刻
	- 由于locate指令基于数据库进行查询，所以第一次运行前，必须使用updatedb指令创建locate数据库
- grep指令和管道符号|
	- 基本语法：grep  [选项]  查找内容 源文件
	- grep过滤查找
	- 管道符|：表示将前一个命令的处理结果输出传递给后面的命令处理
	- 常用选项：
		- -n：显示匹配行及行号
		- -i：忽略字母大小写

### 4.6  压缩和解压缩指令

- gzip/gunzip指令
	- 基本语法
		- gzip  文件名：压缩文件，只能将文件压缩为.gz文件
		- gunzip  文件名：解压缩文件
	- 压缩完后，不会保留原来的文件
- zip/unzip指令
	- 基本语法：
		- zip  [选项]  XXX.zip  将要压缩的内容：压缩文件和目录 
		- unzip  [选项]  XXX.zip：解压缩文件，原文件依旧存在
	- zip常用选项：
		- -r：递归压缩，即压缩目录
	- unzip常用选项：
		- -d  目录：指定解压后文件的存放目录
- tar指令
	- 基本语法：tar  [选项]  XXX.tar.gz  [-C  解压到的目录]  打包的内容
	- tar指令是打包指令，最后打包后的文件是.tar.gz的文件
	- 常用选项：
		- -c：产生.tar打包文件
		- -v：显示详细信息
		- -f：指定压缩后的文件名
		- -z：打包同时压缩
		- -x：解包.tar文件
		- 压缩选项：-czvf
		- 解压选项：-cxvf

### 4.7  组管理和权限管理指令

#### 4.7.1  Linux组的基本介绍

- 在Linux中的每个用户必须属于一个组，不能独立于组外。在Linux中每个文件由所有者、所在组、其他组的概念
	- 所有者
	- 所在组
	- 其他组
	- 改变用户所在组

#### 4.7.2  文件/目录所有者

- 一般为文件的创建者，谁创建了文件，就自然的成为该文件的所有者
- 查看文件的所有者
	- 指令：ls  -ahl
- 修改文件所有者
	- 指令：chown  用户名  文件名
- 修改文件所在组
	- 指令：chgrp  组名  文件名
- 改变用户所在组
	- 指令：usermod  -g  组名  用户名

