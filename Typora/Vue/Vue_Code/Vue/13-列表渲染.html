<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="../js/vue.js"></script>
</head>
<body>

    <!--
        v-for指令
            - 用于展示列表数据
            - 可遍历数组、对象、字符串、指定次数
    -->

    <!--
        - 虚拟DOM中key的作用：key是虚拟DOM对象的标识，当数据发生变化时，Vue会根据新数据生成新的虚拟DOM，随后Vue进行新虚拟DOM与旧虚拟DOM的差异比较（diff对比算法），算法规则如下：
            - 旧虚拟DOM中找到了与新虚拟DOM相同的key
                - 若虚拟DOM中内容没变，直接使用之前的真实DOM
                - 若虚拟DOM中内容变了，则生成新的真实DOM，随后替换掉页面中之前的真实DOM
            - 旧虚拟DOM中未找到与新虚拟DOM相同的key
                - 创建新的真实DOM，随后渲染到页面
        - 用index作为key可能会引发的问题
            - 若对数据进行逆序添加、逆序删除等破坏顺序的操作，会产生没有必要的真实DOM更新，导致界面效果没问题但是效率变低
            - 如果结构中还包含输入类的DOM，会产生错误DOM更新，导致界面出现问题
        - 开发中如何选择key
            - 最好使用每条数据的唯一标识作为key，比如id、手机号、身份证号、学号等唯一标识
            - 如果不存在对数据的逆序添加、逆序删除等破坏顺序的操作，仅用于渲染列表用于展示，使用index作为key是没有问题的
    -->

    <div id="root">
        <!-- 遍历数组 -->
        <h1>遍历数组</h1>
        <ul>
            <li v-for="(person, index) in persons" :key="person.id">
                {{person.name}} - {{person.age}}- {{index}}
            </li>
        </ul>
        <!-- 遍历对象 -->
        <h1>遍历对象</h1>
        <ul>
            <li v-for="(value, key) in dog">
                {{key}} - {{value}}
            </li>
        </ul>
        <!-- 遍历字符串（少用） -->
        <h1>遍历字符串</h1>
        <ul>
            <li v-for="(s, index) in str">
                {{s}} - {{index}}
            </li>
        </ul>
        <!-- 遍历指定次数（少用） -->
        <h1>遍历指定次数</h1>
        <ul>
            <li v-for="(n, index) in 5">
                {{n}} - {{index}}
            </li>
        </ul>
    </div>
         
    <script type="text/javascript">
        Vue.config.productionTip = false
                                   
        new Vue({
            el: '#root',
            data: {
                persons: [
                    {id: "001", name: "张三", age: 18},
                    {id: "002", name: "李四", age: 19},
                    {id: "003", name: "王五", age: 20}
                ],
                dog: {
                    name: "wangwang",
                    age: 2,
                    color: "white"
                },
                str: "hello"
            },
            methods: {
                      
            }
        })
    </script>
</body>
</html>